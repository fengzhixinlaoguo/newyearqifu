# 智谱 API Key 获取教程（新手必看）

> 📝 本教程手把手教你如何免费获取智谱 AI 的 API Key，小白也能 5 分钟搞定！

## 🎯 什么是 API Key？

API Key 就像你的账号密码，让程序能够调用智谱 AI 的服务。**GLM-4-Flash 模型完全免费**，不需要付费！

## 📋 准备工作

- 一个手机号（用于注册）
- 一个邮箱（可选，建议填写）
- 5 分钟时间

## 🚀 详细步骤

### 步骤 1：访问智谱 AI 官网

**访问地址**：https://open.bigmodel.cn/

在浏览器中打开上面的链接，会看到智谱 AI 的开放平台首页。

---

### 步骤 2：注册账号

#### 2.1 点击右上角"登录/注册"按钮

首次使用的用户需要先注册账号。

#### 2.2 选择注册方式

智谱支持多种注册方式：
- **手机号注册**（推荐，快速方便）
- 邮箱注册
- 微信扫码注册

**推荐使用手机号注册**，步骤如下：

1. 输入手机号
2. 点击"获取验证码"
3. 输入收到的验证码
4. 设置登录密码（建议使用复杂密码）
5. 勾选"我已阅读并同意..."
6. 点击"注册"

#### 2.3 完成实名认证（可选）

- 部分功能可能需要实名认证
- 按照页面提示上传身份证照片即可
- 一般 5-10 分钟审核完成

---

### 步骤 3：进入控制台

注册成功后，会自动登录到智谱 AI 平台。

**进入控制台的方法**：
- 方法一：点击页面右上角"控制台"按钮
- 方法二：直接访问 https://open.bigmodel.cn/usercenter/apikeys

---

### 步骤 4：创建 API Key

#### 4.1 找到 API Keys 页面

在控制台左侧菜单中找到：
```
用户中心 → API Keys
```

或者直接访问：https://open.bigmodel.cn/usercenter/apikeys

#### 4.2 创建新的 API Key

1. 点击页面中的"**添加新的 API Key**"或"**创建 API Key**"按钮
2. 填写 API Key 信息：
   - **名称**：随便起一个名字，比如 "祈福项目"
   - **描述**（可选）：比如 "用于新春祈福灵签项目"
3. 点击"**确定**"或"**创建**"

#### 4.3 复制 API Key

⚠️ **重要**：API Key 只会显示一次！

创建成功后，会弹出一个窗口显示你的 API Key，格式类似：
```
12d99a6a37a94dac955a9262cc2804c0.F5t2WwVDHfQvqpEd
```

**立即复制并保存**：
1. 点击"复制"按钮，或者手动全选复制
2. 将 API Key 粘贴到记事本或其他安全的地方
3. ⚠️ 关闭窗口后将无法再次查看完整的 Key

---

### 步骤 5：验证 API Key

#### 5.1 检查格式

正确的智谱 API Key 格式：
```
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.xxxxxxxxxxxxxxxx
```

特点：
- 由两部分组成，中间用 `.` 分隔
- 第一部分：32 位字符（数字+字母）
- 第二部分：16 位字符（数字+字母）

#### 5.2 查看配额

在 API Keys 页面可以看到：
- **总额度**：注册即送的免费额度
- **已用额度**：已经使用的额度
- **剩余额度**：还可以使用的额度

**GLM-4-Flash 模型完全免费**，不消耗付费额度！

---

### 步骤 6：配置到项目中

#### 方法一：使用 .env 文件（推荐新手）

1. 找到项目根目录下的 `.env` 文件
2. 用文本编辑器打开（记事本、VS Code、Sublime 等）
3. 找到这一行：
   ```env
   ZHIPU_API_KEY=your-zhipu-api-key-here
   ```
4. 将 `your-zhipu-api-key-here` 替换为你复制的 API Key：
   ```env
   ZHIPU_API_KEY=12d99a6a37a94dac955a9262cc2804c0.F5t2WwVDHfQvqpEd
   ```
5. 保存文件

#### 方法二：配置到系统环境变量（推荐高级用户）

**macOS/Linux**：
```bash
# 编辑 bashrc
vi ~/.bashrc

# 添加以下内容
export ZHIPU_API_KEY=你的API_Key

# 使配置生效
source ~/.bashrc
```

**Windows**：
1. 右键"此电脑" → "属性"
2. 点击"高级系统设置"
3. 点击"环境变量"
4. 在"用户变量"中点击"新建"
5. 变量名：`ZHIPU_API_KEY`
6. 变量值：粘贴你的 API Key
7. 确定保存

---

### 步骤 7：测试 API Key

#### 7.1 启动项目

```bash
cd newyearqifu
npm install
npm start
```

#### 7.2 查看启动日志

如果配置成功，会看到：
```
✅ 成功: 已从环境变量加载智谱 API Key
🔑 API_KEY: 12d99a6a******QvqpEd
🤖 使用模型: GLM-4-Flash (免费)
✅ 祈福服务已启动: http://localhost:3000
```

如果配置失败，会看到：
```
⚠️ 错误: 智谱 API Key 未配置！
```

#### 7.3 访问项目测试

打开浏览器访问 http://localhost:3000，输入愿望点击抽签，如果能看到 AI 解签内容，说明 API Key 配置成功！

---

## ❓ 常见问题

### Q1: 注册时收不到验证码怎么办？

**解决方法**：
1. 检查手机号是否输入正确
2. 查看短信是否被拦截（垃圾短信箱）
3. 等待 1-2 分钟再试
4. 换一个手机号或使用邮箱注册
5. 联系智谱客服：support@zhipuai.cn

### Q2: API Key 忘记了/丢失了怎么办？

**解决方法**：
1. 登录智谱控制台
2. 进入 API Keys 页面
3. 找到之前创建的 Key，点击"删除"
4. 重新创建一个新的 API Key
5. 注意：删除旧 Key 后，使用旧 Key 的项目将无法运行

### Q3: 提示"API Key 无效"或"认证失败"？

**可能的原因**：
1. **复制不完整**：API Key 复制时漏掉了部分字符
   - 解决：重新复制完整的 Key
2. **格式错误**：粘贴时多了空格或换行
   - 解决：确保 Key 前后没有空格
3. **Key 已过期**：API Key 可能被删除或过期
   - 解决：重新创建新的 API Key
4. **配置位置错误**：没有放在正确的配置文件中
   - 解决：检查 `.env` 文件路径和格式

### Q4: 免费额度用完了怎么办？

**GLM-4-Flash 模型完全免费，不消耗付费额度！**

如果提示额度不足：
1. 检查是否误用了其他付费模型
2. 确认项目配置的模型是 `GLM-4-Flash`
3. 查看控制台的额度使用情况

### Q5: 可以多个项目共用一个 API Key 吗？

**可以的！**

一个 API Key 可以用于多个项目，但要注意：
1. 所有项目共享同一个调用额度
2. 如果 Key 泄露，所有使用该 Key 的项目都会受影响
3. 建议不同项目使用不同的 Key，便于管理和追踪

### Q6: API Key 安全吗？会不会被盗用？

**安全建议**：
- ✅ 不要将 API Key 提交到 GitHub 等公开仓库
- ✅ 不要在前端代码中硬编码 API Key
- ✅ 使用环境变量或配置文件存储
- ✅ 定期更换 API Key
- ✅ 不同项目使用不同的 Key
- ❌ 不要在公开场合（论坛、聊天群）分享 API Key

### Q7: 如何查看 API 使用情况？

1. 登录智谱控制台
2. 进入"用户中心" → "使用统计"
3. 可以查看：
   - 调用次数
   - 使用的模型
   - 消耗的 tokens
   - 费用明细（付费模型）

---

## 🎯 快速自查清单

配置完成后，请检查以下项目：

- [ ] 已注册智谱 AI 账号
- [ ] 已创建 API Key
- [ ] 已复制并保存 API Key
- [ ] 已配置到项目的 `.env` 文件
- [ ] API Key 格式正确（包含 `.` 分隔符）
- [ ] 启动项目能看到"成功加载 API Key"的提示
- [ ] 能够正常使用 AI 解签功能

---

## 📞 获取帮助

如果遇到问题：

1. **查看项目文档**：
   - README.md
   - 智谱AI配置指南.md
   - 快速启动指南.md

2. **智谱 AI 官方支持**：
   - 官网：https://open.bigmodel.cn/
   - 文档：https://open.bigmodel.cn/dev/api
   - 客服邮箱：support@zhipuai.cn

3. **提交 Issue**：
   - 在项目 GitHub 页面提交问题
   - 说明你的操作步骤和遇到的错误

---

## 🎉 恭喜你！

如果你能看到 AI 解签的内容，说明你已经成功配置了智谱 API Key！

现在可以尽情使用新春祈福灵签项目了 🎋

---

**最后更新**：2026-02-11
**适用版本**：智谱 AI 开放平台 v4
